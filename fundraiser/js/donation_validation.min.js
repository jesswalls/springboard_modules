// Compressed using http://jscompress.com/

(function(e){Drupal.behaviors.springboardForms={attach:function(t,n){(function(e){e.fn.clearEle=function(){return this.each(function(){e(this).removeClass("valid");e(this).next("label").remove();e(this).parents(".success").removeClass("success");e(this).parents(".error").removeClass("error");this.value=""})}})(jQuery);e(window).ready(function(){function t(){e("#quantity-total").empty();var t=e('input[type="radio"][name*="amount"]:checked').val();if(t=="other"){t=e('input[name*="other_amount"]').val()}if(isNaN(t)===true){var n=0}else{var n=e('select[name*="quantity"]').val()*t}e('select[name*="quantity"]').after('<span id="quantity-total">Total: $'+n+"</span>")}e('input[name*="card_number"], input[name*="card_cvv"]').attr("autocomplete","off");e('select[name*="quantity"]').change(function(){t()});e('input[name*="amount"]').change(function(){t()});e('input[name*="other_amount"]').change(function(){t()});e.validator.addMethod("creditcard",function(e,t){return this.optional(t)||/^(?:4[0-9]{12}(?:[0-9]{3})?|5[1-5][0-9]{14}|6(?:011|5[0-9][0-9])[0-9]{12}|3[47][0-9]{13}|3(?:0[0-5]|[68][0-9])[0-9]{11}|(?:2131|1800|35\d{3})\d{11})$/i.test(e)},"Enter a valid credit card number");e.validator.addMethod("amount",function(e,t){return this.optional(t)||/^[0-9]*(\.\d{1,3})*(,\d{1,3})?$/i.test(e)},"Enter a valid amount");e.validator.addMethod("zipcode",function(e,t){return this.optional(t)||/(^\d{5}((-|\s)\d{4})?$)|(^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[A-Z]{1} *\d{1}[A-Z]{1}\d{1}$)/i.test(e)},"Enter a valid zipcode");var n=e(".fundraiser-donation-form").validate({onkeyup:function(t,n){if(e(t).next(".error")[0]){if(n.which===9&&t.value===""){return}else{this.element(t)}}},onfocusout:function(t){var n=e(t).valid();if(typeof validateKeyCallback!="undefined"&&n==0){window.validateKeyCallback.status=0;validateKeyCallback.error(t)}else if(typeof validateKeyCallback!="undefined"&&n==1){window.validateKeyCallback.status=1;validateKeyCallback.success(t)}},highlight:function(t){e(t).addClass("key-validate");e(t).closest(".control-group").removeClass("success").addClass("error")},success:function(t){e(t).text("OK").addClass("valid").closest(".control-group").removeClass("error").addClass("success")}});e(".fundraiser-donation-form :input.key-validate").bind("change keyup",function(){n.element("#"+e(this).attr("id"))});e(".fundraiser-donation-form #edit-submit").once(function(){e(".fundraiser-donation-form #edit-submit").click(function(){if(n.form()){e(this).hide();e(".fundraiser_submit_message").hide();e(this).after('<div class="donation-processing-wrapper">'+'<p class="donation-thank-you">Thank you.</p>'+'<p class="donation-processing">Your donation is being processed.</p>'+'<div class="donation-processing-spinner"></div>'+"</div>")}})});for($key in Drupal.settings.fundraiser.js_validation_settings){if(e('input[name*="'+$key+'"]')[0]){e('input[name*="'+$key+'"]').rules("add",Drupal.settings.fundraiser.js_validation_settings[$key])}}if(e('input[name*="other_amount"]')[0]){e('input[name*="other_amount"]').rules("add",{required:{depends:function(t){if(e('input[type="radio"][name$="[amount]"][value="other"]').is(":checked"))return true;else return false}},amount:true,min:parseFloat(Drupal.settings.fundraiserWebform.minimum_donation_amount),messages:{required:"This field is required",amount:"Enter a valid amount",min:"The amount entered is less than the minimum donation amount."}})}e('input[type="radio"][name*="amount"]').change(function(){if(e(this).val()=="other"){e('input[name*="other_amount"]').focus()}else{e('input[name*="other_amount"]').clearEle()}});e('input[name*="other_amount"]').focus(function(){e('input[type="radio"][name*="amount"][value="other"]').attr("checked","checked")});e('input[name*="other_amount"]').blur(function(){var n=this.value;if(typeof window.customValidation==="undefined"){if(n.length>0&&this.value.match(/\d/g)){if(!n.match(/\./)){n=n.replace(/[^\d]+/g,"")+".00"}else{n=n.replace(/[^\d\.]+/g,"").replace(/\./i,"-").replace(/\./g,"").replace("-",".").match(/\d+\.\d{0,2}|\.\d{0,2}/);var r=n[0];if(r.match(/\.\d{2}/)){}else if(r.match(/\.\d{1}/)){n+="0"}else{n+="00"}}this.value=n;t();e(this).valid()}}else{window.customValidation(n);e(this).valid()}});jQuery.extend(jQuery.validator.messages,{required:"This field is required",remote:"Please fix this field",email:"Enter a valid email address",url:"Enter a valid URL",date:"Enter a valid date",dateISO:"Enter a valid date (ISO)",number:"Must be a number",digits:"Enter only digits",creditcard:"Enter a valid credit card number",equalTo:"Enter the same value again",accept:"Enter a value with a valid extension",maxlength:jQuery.validator.format("Enter no more than {0} characters"),minlength:jQuery.validator.format("Enter at least {0} characters"),rangelength:jQuery.validator.format("Enter a value between {0} and {1} characters long"),range:jQuery.validator.format("Enter a value between {0} and {1}"),max:jQuery.validator.format("Enter a value less than or equal to {0}"),min:jQuery.validator.format("Enter a value greater than or equal to {0}")});e("select").each(function(){if(e(this).next().is("select")){e(this).next().addClass("spacer")}});e(".close").click(function(){e(this).closest(".alert").fadeOut()})})}}})(jQuery)
